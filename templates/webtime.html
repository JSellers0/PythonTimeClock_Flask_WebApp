{% extends "parent.html" %}
{% block title %}Python WebTime{% endblock %}
{% block head %}
{% endblock %}
{% block page_name %}Python/Flask Time Clock{% endblock %}

{% block body %}
    <div>
        <span id="messages"></span>
    </div>
    <!-- ToDo: Hide when user not logged in -->
    <!-- ToDo: Build section to inform user to register or log in -->
    {% if current_user.is_authenticated %}
    <div id="controlpanel">
        <a href={{ url_for( "start" ) }} class="control" id="start">Start</a>
        <button class="control" id="stop">Stop</button>
        <a href={{ url_for( "adjust" ) }} class="control" id="adjust">Adjust</a>
        <a href={{ url_for( "report" ) }} class="control" id="report">Report</a>
        <!-- ToDo: Steal user system from Flask tutorial -->
    </div>
    {% else %}
    <div id="container">
        <h1>Register or Login to use TimeClock</h1>
    </div>
    {% endif %}
{% endblock body %}

{% block javascript %}
{{ super() }}
<script type="module">
    // Give the imported MVC components a namespace
    import * as MVC from "/static/js/webtime.js";

    // Create an intentional global variable referencing the import
    window.mvc = MVC;
</script>
{% endblock %}